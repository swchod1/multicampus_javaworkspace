package com.homework180408practice;

import java.util.*;


public class SlotMachineTest3 extends Thread {
	
	Random random = new Random();
	private int x;

	
	
	
	public int getX() {
		return x;
	}


	public void setX(int x) {
		this.x = x;
	}
	
	
	
	public SlotMachineTest3(int x) {
		// TODO Auto-generated constructor stub
		setPriority(x);
		setDaemon(true);
		
	}

	@Override
	public void run() {
		// TODO Auto-generated method stub
		synchronized (this) {

			while (true) {

				x = random.nextInt(3) + 1;

				try {
					this.wait();
				} catch (InterruptedException ie) {
					// TODO: handle exception
				}

			}
		}
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		SlotMachineTest3 sm1 = new SlotMachineTest3(10);
		SlotMachineTest3 sm2 = new SlotMachineTest3(10);
		SlotMachineTest3 sm3 = new SlotMachineTest3(10);


		sm1.start();
		sm2.start();
		sm3.start();

	
			while (true) {

				System.out.println("----------------");
				System.out.println(sm1.getX() + " " + sm2.getX() + " " + sm3.getX());
				System.out.println("----------------");

				if (sm1.getX() != 0 && sm1.getX() == sm2.getX() && sm2.getX() == sm3.getX()) {
					System.out.println("축하합니다. 당첨되셨습니다.");
					return;
				} else {
					sm1.notify();
					sm2.notify();
					sm3.notify();
				}
			}

		
			

	}

}
