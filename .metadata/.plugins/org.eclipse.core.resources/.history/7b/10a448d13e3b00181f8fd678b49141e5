package com.homework180408practice;

import java.util.*;


public class SlotMachineTest3 extends Thread {
	
	Random random = new Random();
	private int x;
	private int count = 0;
	private int[] arr = new int[3];

	
	
	
	public int getX() {
		return x;
	}


	public void setX(int x) {
		this.x = x;
	}
	
	
	
	public SlotMachineTest3(int x) {
		// TODO Auto-generated constructor stub
		setPriority(x);
		
	}

	@Override
	public void run() {
		// TODO Auto-generated method stub
		synchronized (this) {

			while (true) {

				x = random.nextInt(3) + 1;
				arr[count] = x;

				try {
					this.wait();

				} catch (InterruptedException ie) {
					// TODO: handle exception
				}

				if (count == 2) {
					
					System.out.println("-----------------");
					
					for(int temp : arr) {
						System.out.print(temp);
					}
					
					System.out.println("-----------------");
					
					if (arr[0] != 0 && arr[0] == arr[1] && arr[1] == arr[2]) {	
						System.out.println("축하합니다. 당첨되셨습니다.");
						return;
					}
					
					count = 0;
					
					for(int i = 0; i < arr.length; i++) {
						arr[i] = 0;
					}
					
					notifyAll();

				} else {
					count += 1;
				}

			}
		}
	}
	
	
	

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		SlotMachineTest3 sm1 = new SlotMachineTest3(10);
		SlotMachineTest3 sm2 = new SlotMachineTest3(10);
		SlotMachineTest3 sm3 = new SlotMachineTest3(10);

		sm1.start();
		sm2.start();
		sm3.start();
		
		
		
	}

}
