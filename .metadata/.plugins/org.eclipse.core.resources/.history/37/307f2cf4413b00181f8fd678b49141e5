package com.homework180408practice;

import java.util.*;


public class SlotMachineTest3 extends Thread {
	
	Random random = new Random();
	private int x;
	private int count = 0;
	private int[] arr = new int[3];

	
	public SlotMachineTest3() {
		// TODO Auto-generated constructor stub
		setDaemon(true);
		
	}

	@Override
	public void run() {
		// TODO Auto-generated method stub
		synchronized (this) {

			while (true) {

				x = random.nextInt(3) + 1;
				arr[count] = x;
				
				if (count != 2) {
					
					try {
						this.wait();

					} catch (InterruptedException ie) {
						// TODO: handle exception
					}
					
					count += 1;
					
				} else {
					
					System.out.println("-----------------");
					
					for(int temp : arr) {
						System.out.print(temp);
					}
					
					System.out.println("-----------------");
					
					if (arr[0] != 0 && arr[0] == arr[1] && arr[1] == arr[2]) {
						return;
					}
					
					count = 0;
					
					for(int i = 0; i < arr.length; i++) {
						arr[i] = 0;
					}
					
					this.notifyAll();

				}
			}
		}
	}
	
	
	

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		SlotMachineTest3 sm1 = new SlotMachineTest3();
		SlotMachineTest3 sm2 = new SlotMachineTest3();
		SlotMachineTest3 sm3 = new SlotMachineTest3();

		sm1.start();
		sm2.start();
		sm3.start();

		while (true) {

			if (Thread.activeCount() == 1) {
				System.out.println("축하합니다. 당첨되셨습니다.");
				return;
			}

		}

	}

}
